---
description: Elasticsearch設定とクエリ用ルール
globs: ["**/elastic/**", "**/*ela*.py", "**/*elastic*.py", "**/*search*.py", "**/*log*.py"]
alwaysApply: false
---

# Elasticsearch ルール

## インデックス設計
- インデックス設計を適切に行う
- マッピング設定を明確にする
- データ型を適切に選択する
- インデックステンプレートを使用する

## クエリ最適化
- クエリのパフォーマンスを意識する
- 適切なフィルターを使用する
- アグリゲーションを効率的に使用する
- クエリキャッシュを活用する

## ログ処理
- ログデータの構造化
- タイムスタンプの正規化
- ログレベルによる分類
- エラーログの特別な処理

## バックアップ戦略
- スナップショットポリシーの設定
- 定期的なバックアップの実行
- 復旧手順の文書化
- バックアップの検証

## モニタリング
- クラスターのヘルス監視
- インデックスサイズの監視
- クエリパフォーマンスの監視
- エラーログの監視

## セキュリティ
- アクセス権限の適切な設定
- SSL/TLSの有効化
- 認証の実装
- 監査ログの設定